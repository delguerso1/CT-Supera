{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="login-container">
    <h2>Login</h2>

    <!-- Exibir mensagens de erro -->
    {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <p class="alert alert-danger">{{ message }}</p>
            {% endfor %}
        </div>
    {% endif %}

    <!-- FormulÃ¡rio de login -->
    <form method="POST" onsubmit="formatarCPF()">
        {% csrf_token %}

        <label for="cpf">CPF:</label>
        <input type="text" id="cpf" name="cpf" required placeholder="000.000.000-00">

        <label for="password">Senha:</label>
        <input type="password" id="password" name="password" required>

        <button type="submit">Entrar</button>
    </form>

    <p><a href="{% url 'password_reset' %}">Esqueci minha senha</a></p>
</div>

<script>
    function formatarCPF() {
        let cpfInput = document.getElementById("cpf");
        cpfInput.value = cpfInput.value.replace(/\./g, "").replace(/-/g, "");  // ðŸ”¹ Remove pontos e traÃ§os antes do envio
    }
</script>
{% endblock %}