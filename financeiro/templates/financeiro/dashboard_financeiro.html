{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
  <h2>Dashboard Financeiro</h2>

  <form method="get" class="row g-3 mb-4">
    <div class="col-md-3">
      <label for="mes" class="form-label">MÃªs</label>
      <select name="mes" id="mes" class="form-select">
        {% for m in meses %}
          <option value="{{ m }}" {% if m == mes_atual %}selected{% endif %}>{{ m }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-3">
      <label for="ano" class="form-label">Ano</label>
      <input type="number" name="ano" id="ano" class="form-control" value="{{ ano_atual }}">
    </div>
    <div class="col-md-3 d-flex align-items-end">
      <button type="submit" class="btn btn-primary">Filtrar</button>
    </div>
  </form>

  <div class="row">
    <div class="col-md-4">
      <div class="card text-white bg-success mb-3">
        <div class="card-body">
          <h5 class="card-title">Total Pago</h5>
          <p class="card-text">R$ {{ total_pago|floatformat:2 }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card text-white bg-warning mb-3">
        <div class="card-body">
          <h5 class="card-title">Total Pendente</h5>
          <p class="card-text">R$ {{ total_pendente|floatformat:2 }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card text-white bg-secondary mb-3">
        <div class="card-body">
          <h5 class="card-title">Total Geral</h5>
          <p class="card-text">R$ {{ total_geral|floatformat:2 }}</p>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
